# Scraper

This is a personal project I'm rewriting to enhance my programming skills, building on a program I created to address a workplace issue. The project is a work in progress, now incorporating a database for improved functionality. I'm thrilled with the progress so far!

## Scripts Overview

### `database.py`
Demonstrates the database's functionality through a series of operations:
- Creates a database file named `parts_database.db`.
- Supports adding, updating, retrieving, and deleting parts.
- Designed to run as a standalone program.
- Note: The numbers used are example values and are not functional with the scraper.

### `part_finder.py`
Provides utility functions for scraping part data from `rockymountainatvmc.com` and adding it to the database, integrated into the main GUI application.
- Utilizes **Playwright** for web scraping.
- Contains three main functions:
  - `open_browser`: Opens a Playwright browser and navigates to the target site, optionally reusing an existing context.
  - `scrape_data`: Scrapes dropdown selections and the provided MPN from the schematic page.
  - `add_to_database`: Adds the scraped part data to the database.
- **How to use**:
  - Controlled via the main GUI application (see the main script for details).
  - The GUI opens the browser, allows navigation to a schematic page, and prompts for an MPN.
  - The user copies a part number from the schematic, pastes it into the GUI, and triggers scraping to add the part to the database.

### `scraper.py`
Processes a list of instructions generated by `database.py`.
- Requires parts to be added to the database via the main GUI application (using `part_finder.py`) first, as it captures navigation instructions.
- Gathers in-stock status and price of parts and updates superseded part numbers.
- Note: Direct URLs cannot be used due to the dynamic nature of the website, as URLs change periodically.

### `ebay_interface.py`
Interacts with eBay's Trading API using the **ebaysdk** library (requires an API key, not included for security reasons).
- Retrieves all active listings from the user's eBay account and saves them to a JSON file.
- Updates the database with eBay listing IDs to link parts directly to eBay listings.
- Includes a function to calculate pricing based on Rocky Mountain pricing, factoring in transaction fees, shipping costs, and desired profit margin.
- Note: This script is non-functional without a valid eBay API key.

## Notes
- You can use the provided database for a quick test as it has a single part in the database for demonstration
- It will fail to do the eBay update part because there is no YAML file or eBay store to connect to

Thank you for checking out my project!
